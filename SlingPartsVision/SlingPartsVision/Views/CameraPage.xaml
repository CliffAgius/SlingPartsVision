<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="SlingPartsVision.Views.CameraPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:cv="clr-namespace:Camera.MAUI;assembly=Camera.MAUI"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    xmlns:vm="clr-namespace:SlingPartsVision.ViewModels"
    Title="CameraPage">

    <ContentPage.BindingContext>
        <vm:CameraPageViewModel />
    </ContentPage.BindingContext>


    <VerticalStackLayout>
        <Label
            Margin="10"
            HorizontalOptions="Center"
            Text="Welcome to .NET MAUI!"
            VerticalOptions="Center" />

        <cv:CameraView
            x:Name="CameraView"
            BarCodeDetectionEnabled="True"
            BarCodeResults="{Binding BarcodeResults}"
            CamerasLoaded="CameraView_CamerasLoaded"
            HeightRequest="300"
            WidthRequest="300" />

        <Button Command="{Binding TakePhotoCommand}" Text="Take Photo!" />

        <Image
            HeightRequest="300"
            Source="{Binding ImageSource}"
            WidthRequest="300" />

        <Label Text="{Binding CountLabel}" />
    </VerticalStackLayout>
</ContentPage>